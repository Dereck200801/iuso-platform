# ============================================
# Configuration Docker Supabase - IUSO Platform
# ============================================

# Studio Configuration
STUDIO_PORT=3000
STUDIO_DEFAULT_ORGANIZATION=IUSO-SNE
STUDIO_DEFAULT_PROJECT=iuso-platform

# API Configuration
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
SUPABASE_PUBLIC_URL=http://localhost:8000
API_EXTERNAL_URL=http://localhost:8000

# Database Configuration
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_PASSWORD=iuso123456789

# JWT Configuration
JWT_SECRET=iuso-super-secret-jwt-token-with-at-least-32-characters
JWT_EXPIRY=3600
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvb2FsaG9zdCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjc3ODQ2NDAwLCJleHAiOjE5OTM0MjI0MDB9.z8zKBGrNrR6YEPxwQgQdKJMGj0rH4z3Oa4e7QJXxbYQ
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxvb2FsaG9zdCIsInJvbGUiOiJzZXJ2aWNlX3JvbGUiLCJpYXQiOjE2Nzc4NDY0MDAsImV4cCI6MTk5MzQyMjQwMH0.tQqiIqbHcNUQhLgz3pYqJXjbPFQWKxQzPXzKZZvZqZQ

# Auth Configuration
SITE_URL=http://localhost:5176
ADDITIONAL_REDIRECT_URLS=http://localhost:5174,http://localhost:5173,http://localhost:5176,http://localhost:3000
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false

# Email Configuration (optional - for local dev)
SMTP_ADMIN_EMAIL=admin@iuso-sne.edu.sn
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_NAME=IUSO-SNE

# Mailer URL paths - Configuration pour rediriger vers notre page
MAILER_URLPATHS_INVITE=/verify-email
MAILER_URLPATHS_CONFIRMATION=/verify-email
MAILER_URLPATHS_RECOVERY=/reset-password
MAILER_URLPATHS_EMAIL_CHANGE=/verify-email

# PostgREST Configuration
PGRST_DB_SCHEMAS=public,storage,graphql_public

# Functions Configuration
FUNCTIONS_VERIFY_JWT=false

# Analytics Configuration
LOGFLARE_API_KEY=iuso-logflare-api-key

# Image Processing
IMGPROXY_ENABLE_WEBP_DETECTION=true

# Docker Socket (for Windows)
DOCKER_SOCKET_LOCATION=//var/run/docker.sock

# ────────────── NestJS API ──────────────
NEST_PORT=3000
SUPABASE_URL=http://kong:8000
SUPABASE_SERVICE_ROLE_KEY=${SERVICE_ROLE_KEY}
SUPABASE_JWKS_URL=${SUPABASE_PUBLIC_URL}/auth/v1/keys
SUPABASE_JWT_AUD=authenticated 